<test-variant>
{% unless product.has_only_default_variant %} 
        {% for option in product.options_with_values %}  
            {% assign optionName = option.name | downcase %}
             {% if optionName == 'color' %}
                {% render 'variant-swatch', option: option, product: product, product_form_id: product_form_id, picker_type: 'button' %}
            {% else %}
                {% render 'variant-select',  option: option, product: product, product_form_id: product_form_id, picker_type: "dropdown" %}
             {% endif %}
        {% endfor %}
        <script type="application/json" data-variants-json>
        {{ product.variants | json }}
        </script>
    {% endunless %} 
</test-variant>